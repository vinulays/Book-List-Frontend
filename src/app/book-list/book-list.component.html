<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
  integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm"
  crossorigin="anonymous"
/>
<div class="navbar-container">
  <nav>
    <div class="navbar-left">
      <li>
        <h5>Welcome to Book Management SystemðŸŽ‰</h5>
        <p>Here's what's happening in your book list today.</p>
      </li>
    </div>
    <div class="navbar-right">
      <div class="btn-container">
        <button routerLink=".." (cilck)="logOut()" class="logout">
          Logout
        </button>
      </div>
    </div>
  </nav>
</div>
<div class="dashboard-container">
  <div class="dashboard-content">
    <div class="overview-container">
      <div class="booksno-container">
        <div class="logo">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="currentColor"
            class="bi bi-book"
            viewBox="0 0 16 16"
          >
            <path
              d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"
            />
          </svg>
        </div>
        <div class="details">
          <h3>{{ noOfBooks }} Books</h3>
          <p>In the list</p>
        </div>
      </div>
      <div class="average-price-container">
        <div class="logo">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="currentColor"
            class="bi bi-bank"
            viewBox="0 0 16 16"
          >
            <path
              d="m8 0 6.61 3h.89a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v7a.5.5 0 0 1 .485.38l.5 2a.498.498 0 0 1-.485.62H.5a.498.498 0 0 1-.485-.62l.5-2A.501.501 0 0 1 1 13V6H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 3h.89L8 0ZM3.777 3h8.447L8 1 3.777 3ZM2 6v7h1V6H2Zm2 0v7h2.5V6H4Zm3.5 0v7h1V6h-1Zm2 0v7H12V6H9.5ZM13 6v7h1V6h-1Zm2-1V4H1v1h14Zm-.39 9H1.39l-.25 1h13.72l-.25-1Z"
            />
          </svg>
        </div>
        <div class="details">
          <h3>{{ averagePrice | currency: "USD" }}</h3>
          <p>of average price</p>
        </div>
      </div>
      <div class="time-container">
        <div class="logo">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="currentColor"
            class="bi bi-alarm"
            viewBox="0 0 16 16"
          >
            <path
              d="M8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9V5.5z"
            />
            <path
              d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273 12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0 3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1h-3zm1.038 3.018a6.093 6.093 0 0 1 .924 0 6 6 0 1 1-.924 0zM0 3.5c0 .753.333 1.429.86 1.887A8.035 8.035 0 0 1 4.387 1.86 2.5 2.5 0 0 0 0 3.5zM13.5 1c-.753 0-1.429.333-1.887.86a8.035 8.035 0 0 1 3.527 3.527A2.5 2.5 0 0 0 13.5 1z"
            />
          </svg>
        </div>
        <div class="details">
          <h3>Current Time</h3>
          <p>{{ time | async | date: "hh:mm:ss a" }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="add-container">
  <div class="form-container">
    <form class="form-inline">
      <input
        class="form-control mr-sm-2 search-input"
        type="search"
        placeholder="Enter the title to Search"
        aria-label="Search"
        name="searchTitle"
        [(ngModel)]="searchTitle"
        (input)="restoreList()"
      />
      <button
        (click)="searchBookByTitle()"
        class="btn btn-outline-secondary my-2 my-sm-0 search-btn"
        type="submit"
      >
        Search
      </button>
    </form>
  </div>
  <div class="button-container">
    <button
      routerLink="/create"
      type="button"
      class="btn btn-primary btn-m add-btn"
    >
      Add a Book
    </button>
  </div>
</div>

<div class="table-wrapper">
  <div class="table-container">
    <h4>Book List</h4>
    <table class="table">
      <thead>
        <tr>
          <th scope="col">Book Title</th>
          <th scope="col">Author</th>
          <th scope="col">ISBN Number</th>
          <th scope="col">No of Pages</th>
          <th scope="col">Price</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let book of bookList">
          <td>{{ book.title | titlecase }}</td>
          <td>{{ book.author }}</td>
          <td>{{ book.isbn_number }}</td>
          <td>{{ book.no_of_pages }}</td>
          <td>{{ book.price | currency: "USD" }}</td>
          <td>
            <button
              routerLink="../update/{{ book.id }}"
              type="button"
              class="btn btn-success update-btn"
            >
              Update
            </button>
            <button
              type="button"
              class="btn btn-danger delete-btn"
              (click)="deleteBook(book.id)"
            >
              Delete
            </button>
          </td>
        </tr>
        <tr *ngIf="listLength == 0">
          <td style="text-align: center" colspan="6">No books found</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
